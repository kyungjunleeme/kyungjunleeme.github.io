Ad-hoc모드는 각자 대등하니까 이제 누군가 나서서 할 수가 없죠.
그런데 AP하는 얘는 중간에 있으니까 얘가 있어야지만 PCF를 사용할 수 있는 구조가 되게 됩니다.
자 그러면 DCF는 어떻게 생겼냐? CSMA/CA를 쓰는 겁니다.
CSMA/CD는 어떻게 하는거 였어요? 자 CSMA/CD는 어떻게 하는거였어요? CS, Carrier Sense 내가 말하기 전에 듣는 거잖아요? 그죠?
데이터를 보내기 전에 누가 보내나 안 보내나 들어보는 겁니다.
들어봐서 아무도 데이터를 보내지 않아요. 보내지 않으면 내가 데이터를 보내는 거죠.
CD는 어떻게 하는 거였어요? 데이터를 보내면서 충돌이 나나 안 나나 들어보는 겁니다.
충돌이 나면 즉시 전송을 STOP하는게 CD에요.
근데 무선에서는 이게 안된다는거죠. 이게 왜 안되냐 하면 충돌이 난 신호가 나한테 오는 중에 신호의 세기가 작아져가지고 나한테 왔는데 이게 충돌이 난건지 안 난건지 구분이 잘 안되요.
안되니까 어떻게 해야 되요? 이걸 쓸 수가 없는거죠. 최대한 충돌을 피해나가는 방식을 쓰자고 해서 나온게 뭐에요? CSMA/CA죠.
Collision Avoidance, 뭐 Avoidance니까 Collision free라는게 아닙니다. Collision이 날 수 있어요. 최대한 줄이자는거죠. 어떻게 줄여요?
Carrier Sense를 하다가 쫙 누군가 데이터를 보내고 있어요. 그러면 쭉 듣고 있다가 아무도 안보내요.
그럼 바로 보내면 어떻게 해요? 충돌날 가능성이 높죠? 이걸 피하기 위해서 좀 쉬었다 보내는거죠.
쉬었다보내고 그 다음에 Contention Window라는 거를 쓰고 ACK받고 이런 행위들을 통해서 충돌을 피해보자 라는거죠. 이게 DCF에 들어가 있다. CSMA/CA가 들어가 있다 이렇게 보는 겁니다.
-------------------------------------------------------------
그래서 브릿지를 사용하게 되면 여러 가지 효과들이 생길 수 있습니다. 속도도 사실은 올라갈 수도 있습니다.
왜냐하면 케이블 하나에 여러 개의 컴퓨터들이 연결되어 있는 그런 구조를 가져다가 뚝 잘라서 브릿지를 여기다 연결을 하게 되면 얘가 양쪽에 뭐가 있는지 알 수 있다고 했잖아요.
어떤 컴퓨터들이 있는지 알 수 있으니까 트래픽이 넘나들지 않게 하니까 얘네들끼리 Carrier Sense를 해서 데이터를 주고받을 때 당연히 효율이 올라가죠.
이게 한 케이블에 연결되어 있으면 어느 한순간에는 두 개의 컴퓨터만 데이터를 송수신 할 수 있잖아요. 그죠?
하지만 이거를 잘라버리게 되면, 얘가 필터링하는 기능을 두게 되면 얘는 얘대로 데이터를 보내고 얘는 얘대로 따로따로 데이터를 보낼 수 있어서 효율이 올라간다. 이렇게 볼수가 있는거죠.
즉, Collision domain, 충돌이 일어나는 영역이 이만큼이었다가 브릿지가 중간에 개입함으로 인해서 얘 따로, 얘 따로 이렇게 존재하도록 구성할 수 있다 라는게 되는거죠. 당연히 효율이 좋아지지 않겠어요? 그죠?



자 일반 허브를 살펴보면 일반 허브라고 하는 것은 허브에 컴퓨터들이 쭉 연결되어 있으면 내가 데이터를 보내면 다른 라인으로도 허브가 데이터를 쏩니다. 이게 1계층에 해당되는 허브였어요.
그래서 데이터를 다 쏘게 되는데, 가만히 보니까 MAC주소 혹은 하드웨어주소 라는게 있잖아요.
근데 허브에서 하드웨어 주소를 기록한다면, 그러니까 이게 무슨 말이냐면 포트가 다 연결되어 있으니까, 아 이쪽 포트에는 A가 있다, 이쪽 포트에는 B가 있다, 이쪽 포트에는 C가 있다, 이쪽 포트에는 D가 있다, 이쪽 포트에는 E가 있다 라는 것을 테이블에 등록을 해놓으면 어떤 일이 생기겠어요?
A가 D로 데이터를 쏜다고 하면 A에서 보내는 트래픽을 받으면서 앞부분에 뭐가 있죠? 여러분 이더넷 프레임 포맷 기억하세요?
제일 앞부분에 뭐가 있냐하면 목적지주소가 있습니다. 목적지주소가 D로 간다고 되어있어요. 그러면 테이블을 찾아봅니다.
쭉 찾아보고 D는 이쪽 포트에 있네 그러면 다른 포트로 트래픽을 전달할 필요가 있어요? 없어요? 아니 A에서 와서 D로 가는데 B,C,E로 보냅니까? 보낼 필요가 없죠.
그러니까 A에서 받아서 D로만 쏘면 되는거죠. 자 이 이야기는 무슨 얘기냐, A에서 D로 갈 때 B에서 C로 동시에 트래픽을 보낼 수 있게 되는 겁니다.
이건 놀라운 발전인거죠. 그죠? 허브를 약간 개선만 하게 되면 주소를 학습해놓고 A에서 D로 보낼 때, B에서 C로 동시에 데이터를 보낼 수 있는 기능을 구현 시킬 수 있다. 이런 허브를 스위칭 허브라고 부르는 겁니다.
그래서 회사에 가게 되면 무진장 많아요. 학교도 마찬가지고 무진장 많은 스위칭허브들이 존재합니다.